<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
  
  <link href="css/profile.css" rel="stylesheet">

  
  <title>Профиль</title>
</head>
<body>
  <header class="page-header">
    <nav class="main-nav">
      <p class="logo">
        <img src="img/logo.svg" width="68" height="20" alt="Cakes">
      </p>
      <ul class="site-navigation">
        <li class="site-navigation-item"><a href="index2.html">Главная</a></li>
        <li class="site-navigation-item"><a href="ourcake.html">Наши торты</a></li>
        <li class="site-navigation-item"><a href="index2.html#about">О нас</a></li>
        <li class="site-navigation-item"><a href="index2.html#con">Контакты</a></li>
      </ul>
    </nav>
  </header>
  <main id="profileContent">
    <div class="profile">
      <h2>Профиль</h2>
      <form id="profileForm">
        <label for="name">Имя</label>
        <input type="text" id="name">
        <label for="email">Электронная почта</label>
        <input type="email" id="email" disabled>
        <label for="phone">Телефон</label>
        <input type="text" id="phone">
        <input type="submit" value="Сохранить">
      </form>
      <button id="logoutButton">Выйти</button>
    </div>
  </main>
  <footer class="main-footer">
    <p class="logo">
      <img src="img/logo.svg" width="68" height="20" alt="Cakes">
    </p>
    <ul class="footer-navigation">
      <li class="footer-navigation-item">
        <a href="ourcake.html">Наши торты</a>
      </li>
      
      <li class="footer-navigation-item">
        <a href="#about">О нас</a>
      </li>
      
      <li class="footer-navigation-item">
        <a href="#con">Контакты</a>
      </li>
    </ul>
    <p class="copyright">©  2025 Cakes</p>
  </footer>

  <script>
    const user = JSON.parse(localStorage.getItem('user'));

    if (!user) {
      // Если пользователь не найден, перенаправляем на главную страницу
      window.location.href = 'lk.html';
    } else {
      // Заполняем данные в форме
      document.getElementById('name').value = user.name || '';
      document.getElementById('email').value = user.email || '';
      document.getElementById('phone').value = user.phone || '';

      // Сохраняем изменения профиля
      document.getElementById('profileForm').addEventListener('submit', function(event) {
        event.preventDefault();
        const updatedName = document.getElementById('name').value;
        const updatedPhone = document.getElementById('phone').value;

        localStorage.setItem('user', JSON.stringify({ ...user, name: updatedName, phone: updatedPhone }));

        alert('Данные сохранены!');
      });

      // Выход из профиля
      document.getElementById('logoutButton').addEventListener('click', function() {
        localStorage.removeItem('user');
        window.location.href = 'lk.html';
      });
    }
  </script>
</body>
</html>
